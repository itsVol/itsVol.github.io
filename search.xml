<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>JSONåŸºç¡€çŸ¥è¯†æ¦‚è§ˆ</title>
    <url>/2021/06/09/JSON%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%A6%82%E8%A7%88/</url>
    <content><![CDATA[<p>Q: What is JSON<br>
A: JavaScript Object Notation,is a lightweight data-interchange format</p>
<blockquote>
<p>JSON is a text format that is completely language independent but uses conventions that are familiar to programmers of the C-family of languages, including C, C++, C#, Java, JavaScript, Perl, Python, and many others.</p>
</blockquote>
<p>An object is an unordered set of name/value pairs. An object begins with {left brace and ends with }right brace. Each name is followed by :colon and the name/value pairs are separated by ,comma.</p>
<blockquote>
<p>{â€œnameâ€:â€œsojsonâ€}</p>
</blockquote>
<p>A value can be a string in double quotes, or a number, or true or false or null, or an object or an array. These structures can be nested.</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">UP_UID = BiliJson[&#x27;data&#x27;][&#x27;card&#x27;][&#x27;desc&#x27;][&#x27;user_profile&#x27;][&#x27;info&#x27;][&#x27;uid&#x27;]</span><br></pre></td></tr></table></figure>
<p>The meaning of this code is BiliJson.data.card.desc.user_profile.info.uid<br>
for example:</p>
<span id="more"></span>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">&quot;code&quot;</span>: <span class="number">0</span>,</span><br><span class="line">	<span class="attr">&quot;msg&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">	<span class="attr">&quot;message&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">	<span class="attr">&quot;data&quot;</span>: &#123;</span><br><span class="line">		<span class="attr">&quot;card&quot;</span>: &#123;</span><br><span class="line">			<span class="attr">&quot;desc&quot;</span>: &#123;</span><br><span class="line">				<span class="attr">&quot;uid&quot;</span>: <span class="number">0000974</span>,</span><br><span class="line">				<span class="attr">&quot;type&quot;</span>: <span class="number">2</span>,</span><br><span class="line">				<span class="attr">&quot;rid&quot;</span>: <span class="number">138447857</span>,</span><br><span class="line">				<span class="attr">&quot;acl&quot;</span>: <span class="number">0</span>,</span><br><span class="line">				<span class="attr">&quot;view&quot;</span>: <span class="number">252346</span>,</span><br><span class="line">				<span class="attr">&quot;repost&quot;</span>: <span class="number">0</span>,</span><br><span class="line">				<span class="attr">&quot;comment&quot;</span>: <span class="number">40</span>,</span><br><span class="line">				<span class="attr">&quot;like&quot;</span>: <span class="number">1281</span>,</span><br><span class="line">				<span class="attr">&quot;is_liked&quot;</span>: <span class="number">0</span>,</span><br><span class="line">				<span class="attr">&quot;dynamic_id&quot;</span>: <span class="number">2345678900000</span>,</span><br><span class="line">				<span class="attr">&quot;timestamp&quot;</span>: <span class="number">1623232804</span>,</span><br><span class="line">				<span class="attr">&quot;pre_dy_id&quot;</span>: <span class="number">0</span>,</span><br><span class="line">				<span class="attr">&quot;orig_dy_id&quot;</span>: <span class="number">0</span>,</span><br><span class="line">				<span class="attr">&quot;orig_type&quot;</span>: <span class="number">0</span>,</span><br><span class="line">				<span class="attr">&quot;user_profile&quot;</span>: &#123;</span><br><span class="line">					<span class="attr">&quot;info&quot;</span>: &#123;</span><br><span class="line">						<span class="attr">&quot;uid&quot;</span>: <span class="number">111174</span>,</span><br><span class="line">						<span class="attr">&quot;uname&quot;</span>: <span class="string">&quot;evt&quot;</span>,</span><br><span class="line">						</span><br><span class="line">					&#125;,</span><br><span class="line">					<span class="attr">&quot;card&quot;</span>: &#123;</span><br><span class="line">						<span class="attr">&quot;official_verify&quot;</span>: &#123;</span><br><span class="line">							<span class="attr">&quot;type&quot;</span>: <span class="number">0</span>,</span><br><span class="line">							<span class="attr">&quot;desc&quot;</span>: <span class="string">&quot;2020&quot;</span></span><br><span class="line">						&#125;</span><br><span class="line">					&#125;,</span><br><span class="line">					<span class="attr">&quot;vip&quot;</span>: &#123;</span><br><span class="line">						<span class="attr">&quot;vipType&quot;</span>: <span class="number">2</span>,</span><br><span class="line">						<span class="attr">&quot;vipDueDate&quot;</span>: <span class="number">1702396800000</span>,</span><br><span class="line">						<span class="attr">&quot;vipStatus&quot;</span>: <span class="number">1</span>,</span><br><span class="line">						<span class="attr">&quot;themeType&quot;</span>: <span class="number">0</span>,</span><br><span class="line">						<span class="attr">&quot;label&quot;</span>: &#123;</span><br><span class="line">							<span class="attr">&quot;path&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">							<span class="attr">&quot;text&quot;</span>: <span class="string">&quot;ä¼šå‘˜&quot;</span>,</span><br><span class="line">							<span class="attr">&quot;label_theme&quot;</span>: <span class="string">&quot;annual_vip&quot;</span>,</span><br><span class="line">							<span class="attr">&quot;text_color&quot;</span>: <span class="string">&quot;#FFFFFF&quot;</span>,</span><br><span class="line">							<span class="attr">&quot;bg_style&quot;</span>: <span class="number">1</span>,</span><br><span class="line">							<span class="attr">&quot;bg_color&quot;</span>: <span class="string">&quot;#FB7299&quot;</span>,</span><br><span class="line">							<span class="attr">&quot;border_color&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">						&#125;,</span><br><span class="line">						<span class="attr">&quot;avatar_subscript&quot;</span>: <span class="number">1</span>,</span><br><span class="line">						<span class="attr">&quot;nickname_color&quot;</span>: <span class="string">&quot;#FB7299&quot;</span>,</span><br><span class="line">						<span class="attr">&quot;role&quot;</span>: <span class="number">3</span>,</span><br><span class="line">						</span><br><span class="line">					&#125;,</span><br><span class="line">				</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>READING LIST:</strong><br>
<a href="https://www.json.org/json-en.html">https://www.json.org/json-en.html</a><br>
<a href="https://www.sojson.com/json/json_what.html">https://www.sojson.com/json/json_what.html</a><br>
<a href="https://www.bejson.com/">https://www.bejson.com/</a></p>
]]></content>
      <categories>
        <category>JSON</category>
      </categories>
      <tags>
        <tag>JSON</tag>
      </tags>
  </entry>
  <entry>
    <title>Github CIåˆä½“éªŒ</title>
    <url>/2021/06/21/Github-CI%E5%88%9D%E4%BD%93%E9%AA%8C/</url>
    <content><![CDATA[<p>åŸæ–‡ï¼šhttp://fe.surge.sh/guide/Github.html#ci<br>
å‚è€ƒï¼šhttps://docs.github.com/cn/actions/quickstart<br>
é‡ç‚¹ï¼šhttps://docs.github.com/cn/actions/learn-github-actions<br>
CI:Continuous Integration,æŒç»­é›†æˆï¼Œå±äºä¸€ç§è‡ªåŠ¨åŒ–æµç¨‹ï¼Œå¤§é‡èŠ‚çœäººå‘˜æ‰‹åŠ¨åˆæˆä»£ç ç­‰ç¹çæ“ä½œ</p>
<blockquote>
<p>æŒç»­é›†æˆï¼ˆCIï¼‰å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜æ›´åŠ é¢‘ç¹åœ°ï¼ˆæœ‰æ—¶ç”šè‡³æ¯å¤©ï¼‰å°†ä»£ç æ›´æ”¹åˆå¹¶åˆ°å…±äº«åˆ†æ”¯æˆ–â€œä¸»å¹²â€ä¸­ã€‚ä¸€æ—¦å¼€å‘äººå‘˜å¯¹åº”ç”¨æ‰€åšçš„æ›´æ”¹è¢«åˆå¹¶ï¼Œç³»ç»Ÿå°±ä¼šé€šè¿‡è‡ªåŠ¨æ„å»ºåº”ç”¨å¹¶è¿è¡Œä¸åŒçº§åˆ«çš„è‡ªåŠ¨åŒ–æµ‹è¯•ï¼ˆé€šå¸¸æ˜¯å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼‰æ¥éªŒè¯è¿™äº›æ›´æ”¹ï¼Œç¡®ä¿è¿™äº›æ›´æ”¹æ²¡æœ‰å¯¹åº”ç”¨é€ æˆç ´åã€‚è¿™æ„å‘³ç€æµ‹è¯•å†…å®¹æ¶µç›–äº†ä»ç±»å’Œå‡½æ•°åˆ°æ„æˆæ•´ä¸ªåº”ç”¨çš„ä¸åŒæ¨¡å—ã€‚å¦‚æœè‡ªåŠ¨åŒ–æµ‹è¯•å‘ç°æ–°ä»£ç å’Œç°æœ‰ä»£ç ä¹‹é—´å­˜åœ¨å†²çªï¼ŒCI å¯ä»¥æ›´åŠ è½»æ¾åœ°å¿«é€Ÿä¿®å¤è¿™äº›é”™è¯¯ã€‚</p>
</blockquote>
<h3 id="åŸºç¡€çŸ¥è¯†">åŸºç¡€çŸ¥è¯†</h3>
<h4 id="åˆ›å»ºé…ç½®æ–‡ä»¶">åˆ›å»ºé…ç½®æ–‡ä»¶</h4>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">mkdir -p .github/workflows</span><br><span class="line">touch .github/workflows/CI.yaml</span><br></pre></td></tr></table></figure>
<p>GitHub Doc æä¾›çš„yamlæ¨¡ç‰ˆ</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">GitHub</span> <span class="string">Actions</span> <span class="string">Demo</span></span><br><span class="line"><span class="attr">on:</span> [<span class="string">push</span>]</span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">Explore-GitHub-Actions:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">echo</span> <span class="string">&quot;ğŸ‰ The job was automatically triggered by a $<span class="template-variable">&#123;&#123; github.event_name &#125;&#125;</span> event.&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">echo</span> <span class="string">&quot;ğŸ§ This job is now running on a $<span class="template-variable">&#123;&#123; runner.os &#125;&#125;</span> server hosted by GitHub!&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">echo</span> <span class="string">&quot;ğŸ” The name of your branch is $<span class="template-variable">&#123;&#123; github.ref &#125;&#125;</span> and your repository is $<span class="template-variable">&#123;&#123; github.repository &#125;&#125;</span>.&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Check</span> <span class="string">out</span> <span class="string">repository</span> <span class="string">code</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">echo</span> <span class="string">&quot;ğŸ’¡ The $<span class="template-variable">&#123;&#123; github.repository &#125;&#125;</span> repository has been cloned to the runner.&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">echo</span> <span class="string">&quot;ğŸ–¥ï¸ The workflow is now ready to test your code on the runner.&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">List</span> <span class="string">files</span> <span class="string">in</span> <span class="string">the</span> <span class="string">repository</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          ls $&#123;&#123; github.workspace &#125;&#125;</span></span><br><span class="line"><span class="string"></span>      <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">echo</span> <span class="string">&quot;ğŸ This job&#x27;s status is $<span class="template-variable">&#123;&#123; job.status &#125;&#125;</span>.&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="ç›‘å¬Gitå‘½ä»¤">ç›‘å¬Gitå‘½ä»¤</h4>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">  name: CI</span><br><span class="line"></span><br><span class="line"><span class="comment"># Controls when the action will run. Triggers the workflow on push or pull request</span></span><br><span class="line"><span class="comment"># events but only for the dev branch</span></span><br><span class="line">on:</span><br><span class="line">  push:</span><br><span class="line">    branches: [dev, master]</span><br><span class="line">  pull_request:</span><br><span class="line">    branches: [dev, master]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>onè¡¨ç¤ºä½œç”¨åœ¨ä»€ä¹ˆå‘½ä»¤ä¸Šï¼ŒbranchesæŒ‡å®šåœ¨ä»€ä¹ˆåˆ†æ”¯ä¸Šã€‚</p>
<h4 id="æ·»åŠ æ„å»ºç¯å¢ƒ">æ·»åŠ æ„å»ºç¯å¢ƒ</h4>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">strategy:</span></span><br><span class="line">    <span class="attr">matrix:</span></span><br><span class="line">      <span class="attr">os:</span> [<span class="string">ubuntu-latest</span>, <span class="string">macos-latest</span>, <span class="string">windows-latest</span>]</span><br><span class="line">      <span class="attr">node:</span> [<span class="string">&quot;12&quot;</span>, <span class="string">&quot;13&quot;</span>, <span class="string">&quot;14&quot;</span>]</span><br><span class="line"><span class="attr">name:</span> <span class="string">install</span> <span class="bullet">-</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.os</span> <span class="string">&#125;&#125;</span> <span class="bullet">-</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.node</span> <span class="string">&#125;&#125;</span></span><br><span class="line"><span class="attr">runs-on:</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.os</span> <span class="string">&#125;&#125;</span>  </span><br></pre></td></tr></table></figure>
<p>build matrix: ç¡®ä¿å¤šä¸ªç³»ç»Ÿï¼Œå¤šä¸ªç‰ˆæœ¬æ„å»ºæˆåŠŸã€‚</p>
 <span id="more"></span>
<h4 id="å®šä¹‰job">å®šä¹‰job</h4>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">install:</span> <span class="comment"># å®šä¹‰å®‰è£…ä¾èµ–çš„ä»»åŠ¡</span></span><br><span class="line">    <span class="attr">if:</span> <span class="string">&quot;!contains(github.event.head_commit.message, &#x27;skip ci&#x27;) &amp;&amp; !contains(github.event.head_commit.message, &#x27;.md&#x27;)&quot;</span> <span class="comment"># å¦‚æœ commit ä¿¡æ¯åŒ…å«ä»¥ä¸‹å…³é”®å­—åˆ™è·³è¿‡è¯¥ä»»åŠ¡</span></span><br><span class="line">    <span class="attr">strategy:</span> <span class="comment"># åˆ†åˆ«åœ¨ä¸‰ä¸ªæ“ä½œç³»ç»Ÿçš„ä¸‰ç§ Node.js ç¯å¢ƒä¸­è¿è¡Œä»»åŠ¡</span></span><br><span class="line">        <span class="attr">matrix:</span></span><br><span class="line">          <span class="attr">os:</span> [<span class="string">ubuntu-latest</span>, <span class="string">macos-latest</span>, <span class="string">windows-latest</span>]</span><br><span class="line">          <span class="attr">node:</span> [<span class="string">&quot;12&quot;</span>, <span class="string">&quot;13&quot;</span>, <span class="string">&quot;14&quot;</span>]</span><br><span class="line">    <span class="attr">name:</span> <span class="string">install</span> <span class="bullet">-</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.os</span> <span class="string">&#125;&#125;</span> <span class="bullet">-</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.node</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.os</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Use</span> <span class="string">Node.js</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.node</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">restore</span> <span class="comment"># æ¢å¤ä¹‹å‰ç¼“å­˜çš„ä¾èµ–</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/cache@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">|</span></span><br><span class="line"><span class="string">            node_modules</span></span><br><span class="line"><span class="string">            */*/node_modules</span></span><br><span class="line"><span class="string"></span>          <span class="attr">key:</span> <span class="string">$&#123;&#123;</span> <span class="string">runner.os</span> <span class="string">&#125;&#125;-$&#123;&#123;</span> <span class="string">hashFiles(&#x27;**/package.json&#x27;)</span> <span class="string">&#125;&#125;</span> <span class="comment"># ä¾èµ–ç¼“å­˜çš„ key å½“ package.json å†…å®¹å˜åŠ¨æ—¶ä¸¢å¼ƒç¼“å­˜ ä¹Ÿå¯ä»¥ä½¿ç”¨ package-lock.json or yarn.lock</span></span><br><span class="line">          <span class="attr">restore-keys:</span> <span class="string">|</span></span><br><span class="line"><span class="string">            $&#123;&#123; runner.os &#125;&#125;-$&#123;&#123; matrix.node-version &#125;&#125;-nodemodules-</span></span><br><span class="line"><span class="string"></span>      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">dependencies</span> <span class="comment"># å®‰è£…ä¾èµ–</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">          <span class="string">yarn</span></span><br></pre></td></tr></table></figure>
<p>æ„å»ºä¸€èˆ¬æœ‰å¤šä¸ªä»»åŠ¡ï¼ŒGitHub å¯ä»¥å¹¶è¡Œæ‰§è¡Œ</p>
<h4 id="æµ‹è¯•">æµ‹è¯•</h4>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">test:</span></span><br><span class="line">    <span class="attr">needs:</span> <span class="string">install</span></span><br><span class="line">    <span class="attr">strategy:</span></span><br><span class="line">        <span class="attr">matrix:</span></span><br><span class="line">          <span class="attr">os:</span> [<span class="string">ubuntu-latest</span>, <span class="string">macos-latest</span>, <span class="string">windows-latest</span>]</span><br><span class="line">          <span class="attr">node:</span> [<span class="string">&quot;12&quot;</span>, <span class="string">&quot;13&quot;</span>, <span class="string">&quot;14&quot;</span>]</span><br><span class="line">    <span class="attr">name:</span> <span class="string">test</span> <span class="bullet">-</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.os</span> <span class="string">&#125;&#125;</span> <span class="bullet">-</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.node</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.os</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Use</span> <span class="string">Node.js</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.node</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Load</span> <span class="string">node_modules</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/cache@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">|</span></span><br><span class="line"><span class="string">            node_modules</span></span><br><span class="line"><span class="string">            */*/node_modules</span></span><br><span class="line"><span class="string"></span>          <span class="attr">key:</span> <span class="string">$&#123;&#123;</span> <span class="string">runner.os</span> <span class="string">&#125;&#125;-$&#123;&#123;</span> <span class="string">hashFiles(&#x27;**/package.json&#x27;)</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">yarn</span> <span class="string">test</span> <span class="comment"># æ‰§è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡ï¼Œè¿™é‡Œä¸€èˆ¬éƒ½æ˜¯æ¥å…¥ codecov æœåŠ¡ï¼Œéœ€è¦é…ç½® CODECOV_TOKEN ç¯å¢ƒå˜é‡æ‰èƒ½å¤Ÿä¸Šä¼ </span></span><br><span class="line">  <span class="attr">lint:</span></span><br><span class="line">    <span class="attr">needs:</span> <span class="string">install</span></span><br><span class="line">    <span class="attr">strategy:</span></span><br><span class="line">        <span class="attr">matrix:</span></span><br><span class="line">          <span class="attr">os:</span> [<span class="string">ubuntu-latest</span>, <span class="string">macos-latest</span>, <span class="string">windows-latest</span>]</span><br><span class="line">          <span class="attr">node:</span> [<span class="string">&quot;12&quot;</span>, <span class="string">&quot;13&quot;</span>, <span class="string">&quot;14&quot;</span>]</span><br><span class="line">    <span class="attr">name:</span> <span class="string">lint</span> <span class="bullet">-</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.os</span> <span class="string">&#125;&#125;</span> <span class="bullet">-</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.node</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.os</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Use</span> <span class="string">Node.js</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.node</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Load</span> <span class="string">node_modules</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/cache@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">|</span></span><br><span class="line"><span class="string">            node_modules</span></span><br><span class="line"><span class="string">            */*/node_modules</span></span><br><span class="line"><span class="string"></span>          <span class="attr">key:</span> <span class="string">$&#123;&#123;</span> <span class="string">runner.os</span> <span class="string">&#125;&#125;-$&#123;&#123;</span> <span class="string">hashFiles(&#x27;**/package.json&#x27;)</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">yarn</span> <span class="string">lint</span></span><br></pre></td></tr></table></figure>
<h4 id="æ„å»ºå¹¶ä¸Šä¼ ">æ„å»ºå¹¶ä¸Šä¼ </h4>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">build:</span></span><br><span class="line">    <span class="attr">needs:</span> [<span class="string">lint</span>, <span class="string">test</span>]</span><br><span class="line">    <span class="attr">strategy:</span></span><br><span class="line">        <span class="attr">matrix:</span></span><br><span class="line">          <span class="attr">os:</span> [<span class="string">ubuntu-latest</span>, <span class="string">macos-latest</span>, <span class="string">windows-latest</span>]</span><br><span class="line">          <span class="attr">node:</span> [<span class="string">&quot;12&quot;</span>, <span class="string">&quot;13&quot;</span>, <span class="string">&quot;14&quot;</span>]</span><br><span class="line">    <span class="attr">name:</span> <span class="string">build</span> <span class="bullet">-</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.os</span> <span class="string">&#125;&#125;</span> <span class="bullet">-</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.node</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.os</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Use</span> <span class="string">Node.js</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.node</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Load</span> <span class="string">node_modules</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/cache@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">|</span></span><br><span class="line"><span class="string">            node_modules</span></span><br><span class="line"><span class="string">            */*/node_modules</span></span><br><span class="line"><span class="string"></span>          <span class="attr">key:</span> <span class="string">$&#123;&#123;</span> <span class="string">runner.os</span> <span class="string">&#125;&#125;-$&#123;&#123;</span> <span class="string">hashFiles(&#x27;**/package.json&#x27;)</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">yarn</span> <span class="string">build</span> <span class="comment"># æ‰§è¡Œæ„å»º</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Upload</span> <span class="string">artifact</span> <span class="comment"># ä¸Šä¼ æ„å»ºäº§ç‰©ï¼Œè¿™é‡Œæˆ‘ä»¬çš„æºç ç›®å½•æ˜¯ srcï¼Œè€Œå®é™…è¿è¡Œçš„ä»£ç æ˜¯æ„å»ºåçš„ bin ç›®å½•</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/upload-artifact@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">name:</span> <span class="string">build_output</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">bin</span> <span class="comment"># ä¸Šä¼  bin ç›®å½•</span></span><br></pre></td></tr></table></figure>
<h4 id="å‘å¸ƒ">å‘å¸ƒ</h4>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npm token create</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>fundamental</category>
      </categories>
      <tags>
        <tag>fundamental</tag>
      </tags>
  </entry>
  <entry>
    <title>RSAç®—æ³•æ˜¯ä»€ä¹ˆ</title>
    <url>/2021/06/11/RSA%E7%AE%97%E6%B3%95%E6%98%AF%E4%BB%80%E4%B9%88/</url>
    <content><![CDATA[<p><strong>reference</strong><br>
http://www.ruanyifeng.com/blog/2013/06/rsa_algorithm_part_one.html<br>
https://www.ruanyifeng.com/blog/2013/07/rsa_algorithm_part_two.html</p>
<blockquote>
<p>1977å¹´ï¼Œä¸‰ä½æ•°å­¦å®¶Rivestã€Shamir å’Œ Adleman è®¾è®¡äº†ä¸€ç§ç®—æ³•ï¼Œå¯ä»¥å®ç°éå¯¹ç§°åŠ å¯†ã€‚<br>
è¿™ç§ç®—æ³•ç”¨ä»–ä»¬ä¸‰ä¸ªäººçš„åå­—å‘½åï¼Œå«åšRSAç®—æ³•ã€‚ä»é‚£æ—¶ç›´åˆ°ç°åœ¨ï¼ŒRSAç®—æ³•ä¸€ç›´æ˜¯æœ€å¹¿ä¸ºä½¿ç”¨çš„&quot;éå¯¹ç§°åŠ å¯†ç®—æ³•&quot;ã€‚<br>
æ¯«ä¸å¤¸å¼ åœ°è¯´ï¼Œåªè¦æœ‰è®¡ç®—æœºç½‘ç»œçš„åœ°æ–¹ï¼Œå°±æœ‰RSAç®—æ³•ã€‚</p>
</blockquote>
<p>è¿™ç§ç®—æ³•é«˜æ•ˆå¯é ï¼Œå¾ˆéš¾ç ´è§£ï¼Œä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹å…¶ä¸­çš„æ•°å­¦åŸç†ã€‚</p>
<h4 id="äº’è´¨å…³ç³»-coprime">äº’è´¨å…³ç³»(coprime)</h4>
<pre><code>é™¤äº†1å†æ— å…¶ä»–å…¬å› å­ï¼Œåˆ™ç§°è¿™ä¸¤ä¸ªæ•°ä¸ºäº’è´¨å…³ç³» ä¾‹å¦‚ï¼š3å’Œ10
ä¸éš¾å¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š
</code></pre>
  <span id="more"></span>
<blockquote>
<ol>
<li>
<p>ä»»æ„ä¸¤ä¸ªè´¨æ•°æ„æˆäº’è´¨å…³ç³»ï¼Œæ¯”å¦‚13å’Œ61ã€‚</p>
</li>
<li>
<p>ä¸€ä¸ªæ•°æ˜¯è´¨æ•°ï¼Œå¦ä¸€ä¸ªæ•°åªè¦ä¸æ˜¯å‰è€…çš„å€æ•°ï¼Œä¸¤è€…å°±æ„æˆäº’è´¨å…³ç³»ï¼Œ&gt;æ¯”å¦‚3å’Œ10ã€‚</p>
</li>
<li>
<p>å¦‚æœä¸¤ä¸ªæ•°ä¹‹ä¸­ï¼Œè¾ƒå¤§çš„é‚£ä¸ªæ•°æ˜¯è´¨æ•°ï¼Œåˆ™ä¸¤è€…æ„æˆäº’è´¨å…³ç³»ï¼Œæ¯”å¦‚97&gt;å’Œ57ã€‚</p>
</li>
<li>
<p>1å’Œä»»æ„ä¸€ä¸ªè‡ªç„¶æ•°æ˜¯éƒ½æ˜¯äº’è´¨å…³ç³»ï¼Œæ¯”å¦‚1å’Œ99ã€‚</p>
</li>
<li>
<p>pæ˜¯å¤§äº1çš„æ•´æ•°ï¼Œåˆ™på’Œp-1æ„æˆäº’è´¨å…³ç³»ï¼Œæ¯”å¦‚57å’Œ56ã€‚</p>
</li>
<li>
<p>pæ˜¯å¤§äº1çš„å¥‡æ•°ï¼Œåˆ™på’Œp-2æ„æˆäº’è´¨å…³ç³»ï¼Œæ¯”å¦‚17å’Œ15ã€‚</p>
</li>
</ol>
</blockquote>
<h4 id="æ¬§æ‹‰å‡½æ•°-br">æ¬§æ‹‰å‡½æ•° <br></h4>
<p>è®¡ç®—åœ¨ç»™å®šæ­£æ•´æ•°nå†…ï¼Œæœ‰å¤šå°‘å¯¹äº’è´¨å…³ç³»ï¼Œæ¬§æ‹‰å‡½æ•°ä¾¿æ˜¯è§£å†³è¿™ä¸€é—®é¢˜ï¼Œç”¨Ï†(n)è¡¨ç¤º</p>
]]></content>
      <tags>
        <tag>RSA</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode-543</title>
    <url>/2021/06/03/leetcode-543/</url>
    <content><![CDATA[<h3 id="Diameter-of-Binary-Tree">Diameter of Binary Tree</h3>
<p>Given the root of a binary tree, return the length of the diameter of the tree.</p>
<p>The diameter of a binary tree is the length of the longest path between any two nodes in a tree. This path may or may not pass through the root.</p>
<p>The length of a path between two nodes is represented by the number of edges between them.</p>
<p>SOLUTION KEY: dad dad,you can get X form my path</p>
<h2 id="codeï¿¼0"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">diameterOfBinaryTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root==<span class="keyword">null</span> )<span class="keyword">return</span> <span class="number">0</span>;   <span class="comment">//å‡ºå£æ¡ä»¶</span></span><br><span class="line">        height(root);</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">height</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">        <span class="comment">//if root==null height==0</span></span><br><span class="line">        <span class="keyword">if</span>(root==<span class="keyword">null</span>)<span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//å¶å­ç»“ç‚¹çš„ä¸‹ä¸€å±‚ç”¨-1è¡¨ç¤º</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> L=height(root.left);</span><br><span class="line">        <span class="keyword">int</span> R=height(root.right);</span><br><span class="line">        ans=Math.max(ans,L+R);<span class="comment">//å­˜å‚¨æœ€å¤§çš„æ•°ä½œä¸ºans</span></span><br><span class="line">        <span class="comment">//height of the tree is max of LST &amp; RST +1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>+Math.max(L,R);<span class="comment">//å¢åŠ ä¸€ä¸ªé“¾æ¥</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></h2>
<span id="more"></span>
<p>Input: root = [1,2,3,4,5]<br>
Output: 3<br>
Explanation: 3 is the length of the path [4,2,1,3] or [5,2,1,3].</p>
<p><img src="/images/543.png" alt=""></p>
<hr>
<p>4å·¦å³å­©å­éƒ½æ˜¯nullï¼Œæ‰€ä»¥è¿”å›çš„ ansä¸º0ï¼Œè¿”å›ç»™ä¸Šä¸€å±‚2çš„ä¿¡æ¯ï¼šçˆ¸çˆ¸çˆ¸çˆ¸ï¼Œä½ èµ°æˆ‘è¿™æ¡è·¯ä½ åªèƒ½å¾—åˆ°1æ¡æœ€å¤§è·¯å¾„ã€‚</p>
<p>2çš„å³å­©å­5æä¾›äº†1æ¡æœ€å¤§è·¯å¾„ï¼Œæ‰€ä»¥2ç»™ä»–çš„çˆ¸çˆ¸åé¦ˆï¼šçˆ¸çˆ¸å‘€ï¼Œä»æˆ‘è¿™å„¿èµ°åªèƒ½ç»™ä½ æä¾›æœ€å¤§ä¸º2çš„è·¯å¾„ï¼ˆ1+Math.max(L,R)ï¼‰</p>
<hr>
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ‰è¶£çš„æ•´æ•°è¶Šç•Œåˆ¤æ–­æ–¹æ³•</title>
    <url>/2021/06/12/%E6%9C%89%E8%B6%A3%E7%9A%84%E6%95%B4%E6%95%B0%E8%B6%8A%E7%95%8C%E5%88%A4%E6%96%AD%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<p>ä»Šå¤©åœ¨fastjsonçš„GitHubä¸Šçœ‹åˆ°ä¸€ä¸ªå¯ä»¥å¤ç°çš„bugï¼Œä¾ç„¶æ˜¯ååºåˆ—åŒ–è¶Šç•Œé—®é¢˜ï¼Œissue2041.<br>
åœ¨æ‰¾é—®é¢˜åŸå› çš„æ—¶å€™ï¼Œå­¦ä¼šäº†ä¸€äº›çŸ¥è¯†ç‚¹,æŒºæœ‰è¶£çš„ã€‚</p>
<p>bugæ˜¯ï¼šåœ¨ååºåˆ—åŒ–ä¸€ä¸ªå¾ˆé•¿çš„å­—ç¬¦ä¸²æ—¶å€™ï¼ˆä¾‹å¦‚â€œ123123333333333333â€ï¼‰ï¼Œå¾ˆæ˜æ˜¾ä¼šæ•´æ•°è¶Šç•Œï¼Œè¿”å›çš„æŠ¥é”™ä¸ºï¼šcom.alibaba.fastjson.JSONException: parseInt error, field : i</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¯å¤ç°çš„ä»£ç </span></span><br><span class="line"><span class="keyword">package</span> com.issue2041;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSONObject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestIssue2041</span> </span>&#123;</span><br><span class="line">    Integer i;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getI</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setI</span><span class="params">(Integer i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.i = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        String sInt[] = <span class="keyword">new</span> String[]&#123;<span class="string">&quot;&#123;\&quot;i\&quot;:11234564654321321&#125;&quot;</span></span><br><span class="line">                , <span class="string">&quot;&#123;\&quot;i\&quot;:1001234564654321321000000000000000000000&#125;&quot;</span></span><br><span class="line">                , <span class="string">&quot;&#123;\&quot;i\&quot;:100000000000000000000012345646543213210&#125;&quot;</span></span><br><span class="line">                , <span class="string">&quot;&#123;\&quot;i\&quot;:10000000000000000000001234564654321321&#125;&quot;</span></span><br><span class="line">                , <span class="string">&quot;&#123;\&quot;i\&quot;:112345646543213210&#125;&quot;</span>&#125;;</span><br><span class="line">        System.out.println(sInt[<span class="number">0</span>]);</span><br><span class="line">        <span class="keyword">for</span> (String s : sInt) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                System.out.println(JSONObject.toJSONString(JSONObject.parseObject(s, TestIssue2041.class)));</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æŸ¥çœ‹è°ƒç”¨æ ˆï¼Œæ‰¾åˆ°äº†NumberFormatExceptionæŠ¥é”™çš„åŸå› ã€‚å°±æ˜¯å­—ç¬¦ä¸²å¤ªé•¿ï¼Œè½¬æ¢æˆæ•´æ•°å½¢ç›´æ¥è¶Šç•Œäº†</p>
</blockquote>
<span id="more"></span>  
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">com.alibaba.fastjson.JSONException: parseInt error, field : i</span><br><span class="line">	at com.alibaba.fastjson.serializer.IntegerCodec.deserialze(IntegerCodec.java:<span class="number">101</span>)</span><br><span class="line">	at com.alibaba.fastjson.parser.deserializer.DefaultFieldDeserializer.parseField(DefaultFieldDeserializer.java:<span class="number">88</span>)</span><br><span class="line">	at com.alibaba.fastjson.parser.deserializer.JavaBeanDeserializer.parseField(JavaBeanDeserializer.java:<span class="number">1282</span>)</span><br><span class="line">	at com.alibaba.fastjson.parser.deserializer.JavaBeanDeserializer.deserialze(JavaBeanDeserializer.java:<span class="number">897</span>)</span><br><span class="line">	at com.alibaba.fastjson.parser.deserializer.JavaBeanDeserializer.deserialze(JavaBeanDeserializer.java:<span class="number">295</span>)</span><br><span class="line">	at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:<span class="number">706</span>)</span><br><span class="line">	at com.alibaba.fastjson.JSON.parseObject(JSON.java:<span class="number">394</span>)</span><br><span class="line">	at com.alibaba.fastjson.JSON.parseObject(JSON.java:<span class="number">298</span>)</span><br><span class="line">	at com.alibaba.fastjson.JSON.parseObject(JSON.java:<span class="number">588</span>)</span><br><span class="line">	at com.issue2041.TestIssue2041.main(TestIssue2041.java:<span class="number">28</span>)</span><br><span class="line">Caused by: java.lang.NumberFormatException: <span class="number">112345646543213210</span></span><br><span class="line">	at com.alibaba.fastjson.parser.JSONLexerBase.intValue(JSONLexerBase.java:<span class="number">1076</span>)</span><br><span class="line">	at com.alibaba.fastjson.serializer.IntegerCodec.deserialze(IntegerCodec.java:<span class="number">79</span>)</span><br><span class="line">	... <span class="number">9</span> more</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¿™é‡Œçš„è½¬æ¢æ–¹æ³•å€¼å¾—æˆ‘ä»¬é˜…è¯»å­¦ä¹ ã€‚</p>
</blockquote>
<p>é¦–å…ˆã€‚ä»£ç æ³¨é‡Šå¼•å‘äº†æˆ‘çš„å…´è¶£ï¼š// Accumulating negatively avoids surprises near MAX_VALUE</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">while</span> (i &lt; max) &#123;</span><br><span class="line">            <span class="comment">// Accumulating negatively avoids surprises near MAX_VALUE</span></span><br><span class="line">            <span class="keyword">char</span> chLocal = charAt(i++);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (chLocal == <span class="string">&#x27;L&#x27;</span> || chLocal == <span class="string">&#x27;S&#x27;</span> || chLocal == <span class="string">&#x27;B&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            digit = chLocal - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (result &lt; multmin) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> NumberFormatException(numberString());</span><br><span class="line">            &#125;</span><br><span class="line">            result *= <span class="number">10</span>;</span><br><span class="line">            <span class="keyword">if</span> (result &lt; limit + digit) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> NumberFormatException(numberString());</span><br><span class="line">            &#125;</span><br><span class="line">            result -= digit;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (negative) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; np + <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> result;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123; <span class="comment">/* Only got &quot;-&quot; */</span></span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> NumberFormatException(numberString());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> -result;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>whileå¾ªç¯ä¸­çš„ä»£ç æ˜¯æ ¸å¿ƒå¤„ç†é€»è¾‘ï¼Œä¹Ÿå°±æ˜¯æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•°å­—ã€‚</p>
<p>æˆ‘ä»¬å…ˆæƒ³ä¸€ä¸‹ï¼Œè€ƒè™‘ä¸€ä¸ªä¸‰ä½æ•°123ï¼Œæ¯”è¾ƒé€šå¸¸çš„ç®—æ³•æ˜¯ï¼š<br>
å¦‚æœæ˜¯åè¿›åˆ¶ï¼Œ123=1<em>10çš„2æ¬¡æ–¹+2</em>10çš„1æ¬¡æ–¹+3<em>10çš„0æ¬¡æ–¹ã€‚<br>
å¦‚æœæ˜¯å…«è¿›åˆ¶ï¼Œ123=1</em>8çš„2æ¬¡æ–¹+2<em>8çš„1æ¬¡æ–¹+3</em>8çš„0æ¬¡æ–¹ã€‚<br>
ä½†ä»”ç»†çœ‹whileå¾ªç¯ä¸­çš„è¿™ä¸¤è¡Œä»£ç ï¼Œresult <em>= radix;å’Œresult -= digit;ï¼Œæˆ‘ä»¬å‘ç°ä»–å¹¶ä¸æ˜¯ä½¿ç”¨ä¸Šé¢çš„ç®—æ³•ï¼Œè€Œæ˜¯ä½¿ç”¨äº†å˜ç§çš„ç®—æ³•ï¼š<br>
å¦‚æœæ˜¯åè¿›åˆ¶ï¼Œ123=((1</em>10 + 2) * 10 + 3)ã€‚<br>
å¦‚æœæ˜¯å…«è¿›åˆ¶ï¼Œ123=((1*8 + 2) * 8 + 3)ã€‚<br>
æ„æ€å…¶å®æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯è¿™ç§ç®—æ³•å¯¹äºç¨‹åºè®¾è®¡æ¥è¯´æ›´åŠ å‹å¥½ã€‚</p>
<p>è‡³äºä¸ºä»€ä¹ˆæ˜¯result -= digit;è€Œä¸æ˜¯result += digit;ï¼Œæ˜¯å› ä¸ºè¿™é‡Œçš„è®¡ç®—å…¨éƒ¨åŸºäºè´Ÿæ•°ï¼Œæ‰€ä»¥ç®—æ³•é‡Œçš„åŠ åœ¨è¿™é‡Œå°±æ˜¯å‡ã€‚</p>
<p>æˆ‘ä»¬è¿˜æ³¨æ„åˆ°ï¼Œä»£ç é‡Œå®šä¹‰äº†ä¸€ä¸ªint multmin;ï¼Œä»¥åŠä¸‹é¢è¿˜æœ‰è¿™è¡Œä»£ç ï¼šmultmin = limit / radix;<br>
ä»¥åŠå¾ªç¯é‡Œçš„if (result &lt; multmin)ï¼Œ if (result &lt; limit + digit)ï¼Œè¿™åˆæ˜¯å¹²ä»€ä¹ˆå‘¢ï¼Ÿ<br>
è¿™æ˜¯è¯¥æ–¹æ³•çš„å¦ä¸€ä¸ªç²¾å¦™ä¹‹å¤„ï¼Œå®ƒç”¨æ¥åˆ¤æ–­æ˜¯å¦æº¢å‡ºã€‚æ¯ä¸€æ¬¡çš„å¾ªç¯éƒ½ä¼šåˆ¤æ–­ä¸‹ä¸€æ¬¡å¾ªç¯çš„è®¡ç®—æ˜¯å¦ä¼šæº¢å‡ºã€‚<br>
ä¸ºäº†ä¾¿äºç†è§£ï¼Œæˆ‘ä»¬ä»¥åè¿›åˆ¶ä¸ºä¾‹ï¼Œå¹¶ä¸”å‡è®¾åè¿›åˆ¶çš„æœ€å¤§å€¼ä¸º998ï¼Œ<br>
é‚£ä¹ˆå®šä¹‰çš„limitå°±æ˜¯-998ï¼Œæ ¹æ®multmin = limit / radix;è¿™è¡Œä»£ç ï¼Œmultminå°±æ˜¯-99ã€‚<br>
è¿›å…¥å¾ªç¯ä»¥åï¼Œå‡å¦‚resultå·²ç»åˆ°äº†-100ï¼Œif (result &lt; multmin)ä¼šcheckå‡ºæ¥ï¼Œå› ä¸ºåœ¨ä¸‹ä¸€æ¬¡å¾ªç¯çš„æ—¶å€™ï¼Œresult=-100<em>10=-1000ï¼Œæº¢å‡ºã€‚<br>
å‡å¦‚resultä¸º-99ï¼Œif (result &lt; multmin)å¯ä»¥é€šè¿‡ï¼Œä½†æ˜¯å¦‚æœdigit=9ï¼Œé‚£ä¹ˆif (result &lt; limit + digit)ä¼šcheckå‡ºæ¥ï¼Œå› ä¸ºåœ¨ä¸‹ä¸€æ¬¡å¾ªç¯çš„æ—¶å€™ï¼Œ  result=-99</em>10-9=-999ï¼Œæº¢å‡ºã€‚</p>
<p>ä¸ºä»€ä¹ˆç”¨è´Ÿæ•°è¿›è¡Œè®¡ç®—å‘¢ï¼Ÿæˆ‘å…ˆæŸ¥äº†ä¸€ä¸‹stackOverFlowã€‚å›ç­”ç§°ï¼š<br>
<img src="/images/stof-neg.png" alt=""></p>
<p>å…¶å®å°±æ˜¯ç”±äºæ•´å½¢æ•°æ®èŒƒå›´ä¸å¯¹ç§°ï¼Œè´Ÿæ•°å–å€¼èŒƒå›´æ›´å®½ã€‚</p>
<blockquote>
<p>Integerç±»å–å€¼å’Œ int ç±»å‹å–å€¼ä¸€è‡´ï¼Œå–å€¼èŒƒå›´æ˜¯ä»-2147483648 è‡³ 2147483647 ï¼ŒåŒ…æ‹¬-2147483648 å’Œ 2147483647ã€‚</p>
<p>ä½†æ˜¯å¯¹äºIntegerç±»ï¼Œjavaä¸ºäº†æé«˜æ•ˆç‡ï¼Œåˆå§‹åŒ–äº†-128~127ä¹‹é—´çš„æ•´æ•°å¯¹è±¡ï¼Œå› æ­¤Integerç±»å–å€¼-128â€“127çš„æ—¶å€™æ•ˆç‡æœ€é«˜ã€‚</p>
</blockquote>
<blockquote>
<p>JVMä¼šè‡ªåŠ¨ç»´æŠ¤å…«ç§åŸºæœ¬ç±»å‹çš„å¸¸é‡æ± ï¼Œintå¸¸é‡æ± ä¸­åˆå§‹åŒ–-128~127çš„èŒƒå›´ï¼Œæ‰€ä»¥å½“ä¸ºInteger i=127æ—¶ï¼Œåœ¨è‡ªåŠ¨è£…ç®±è¿‡ç¨‹ä¸­æ˜¯å–è‡ªå¸¸é‡æ± ä¸­çš„æ•°å€¼ï¼Œè€Œå½“Integer i=128æ—¶ï¼Œ128ä¸åœ¨å¸¸é‡æ± èŒƒå›´å†…ï¼Œæ‰€ä»¥åœ¨è‡ªåŠ¨è£…ç®±è¿‡ç¨‹ä¸­éœ€new 128ï¼Œæ‰€ä»¥åœ°å€ä¸ä¸€æ ·ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>solution</category>
      </categories>
      <tags>
        <tag>source</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”¨å“ˆå¸ŒåšæŠ½å¥–ç®—æ³•</title>
    <url>/2021/06/08/%E7%94%A8%E5%93%88%E5%B8%8C%E5%81%9A%E6%8A%BD%E5%A5%96%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<p>ä»Šå¤©é˜…è¯»äº†ç¨šæ™–å›çš„æŠ½å¥–ä»£ç ï¼Œè§‰å¾—å¾ˆå—å¯å‘ï¼Œå†™è¿™ç¯‡åšå®¢æ¥ç†é¡ºä¸€ä¸‹æ€è·¯<br>
åŸä»“åº“åœ°å€ï¼šhttps://github.com/peng-zhihui/BilibiliLottery</p>
<blockquote>
<p>ä¸€ä¸ªä¼˜ç§€çš„æŠ½å¥–ç®—æ³•ï¼šå…¬å¼€ï¼Œå…¬å¹³ï¼Œä¸å¯æ“æ§ï¼Œä¸å¯é€†ï¼Œæ¦‚ç‡ä¸Šå‡åŒ€åˆ†å¸ƒã€‚</p>
</blockquote>
<p>å°†ç”¨æˆ·idè¿›è¡Œhashå¤„ç†ï¼Œå¼€å¥–æ—¶éšæœºç”¨ä¸€æ®µä¸å¯é¢„æµ‹çš„æ–‡å­—hashåè¿›è¡Œæ¯”è¾ƒã€‚</p>
<p>utils.py</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td>GetDynamicid()</td>
<td>è·å–æœ¬äººåŠ¨æ€Id</td>
</tr>
<tr>
<td>GetMiddleStr()</td>
<td>å¯¹jsonå†…å®¹åˆ‡ç‰‡</td>
</tr>
<tr>
<td>GetTotalRepost()</td>
<td>è·å¾—æ€»è¯„è®ºæ•°</td>
</tr>
<tr>
<td>GetUsers()</td>
<td>è·å¾—ç”¨æˆ·ä¿¡æ¯</td>
</tr>
</tbody>
</table>
<span id="more"></span>
<p>GetDynamicid():ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œæå–URLä¸­çš„æ•°å­—ä½œä¸ºid num[0]è¡¨ç¤ºåªè¿”å›ç¬¬ä¸€ä¸²å­—ç¬¦ä¸²ã€‚</p>
<p>GetMiddleStr() ï¼šå¯¹jsonæ•°æ®è¿›è¡Œå¤„ç†ï¼Œæˆªå–éœ€è¦çš„éƒ¨åˆ†</p>
<p>GetTotalRepost()ä¸GetUser()ï¼šä½¿ç”¨APIï¼Œä¸»è¦å°±æ˜¯åœ¨jsonä¸­åˆ‡å‡ºæœ‰ç”¨ä¿¡æ¯ã€‚</p>
<p>æœ€åï¼Œå°†æ•°æ®æ’åºåè¿”å›</p>
<p><strong>åšç±»ä¼¼é¡¹ç›®æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„</strong></p>
<ol>
<li>çŸ¥é“è¯¥ç½‘ç«™APIæ€ä¹ˆä½¿ç”¨</li>
<li>æ˜ç™½jsonæ•°æ®æ€ä¹ˆå¤„ç†</li>
<li>æ˜ç¡®çš„æ•´ä½“è®¾è®¡æ€è·¯</li>
</ol>
<p><strong>åŸä»“åº“ç»™åˆå­¦è€…æä¾›äº†å­¦ä¹ çš„æ€è·¯ï¼Œä¸¾ä¸€åä¸‰ä¼šæ”¶è·å¾ˆå¤š</strong></p>
]]></content>
      <categories>
        <category>solution</category>
      </categories>
      <tags>
        <tag>source</tag>
      </tags>
  </entry>
</search>
